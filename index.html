<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<!-- http://creativecommons.org/publicdomain/zero/1.0/
     To the extent possible under law, risgk has waived
     all copyright and related or neighboring rights to this file. -->
<title>Digital Synth WRA32-R</title>
<script src="./opal/0.10.1/opal.min.js"></script>
<script>
var audioContext = new AudioContext();
var SAMPLE_RATE = audioContext.sampleRate;
var scriptProcessor = audioContext.createScriptProcessor();
var BUFFER_SIZE = scriptProcessor.bufferSize;
</script>
<script src="./app.js"></script>
<script>
function onAudioProcess(event) {
  var bufferL = event.outputBuffer.getChannelData(0);
  var bufferR = event.outputBuffer.getChannelData(1);
  for (var i = 0; i < BUFFER_SIZE; i++) {
    var b = Opal.gvars.synth.$clock();
    var c = b.valueOf();
    var d = (c - 0.5) / 5.0;
    bufferL[i] = bufferR[i] = d;
  }
}
scriptProcessor.onaudioprocess = onAudioProcess;
scriptProcessor.connect(audioContext.destination);
</script>
</head>
<body>
Digital Synth WRA32-R 0.0.0
</body>
</html>
